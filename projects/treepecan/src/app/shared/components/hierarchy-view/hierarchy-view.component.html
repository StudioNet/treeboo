<ng-template ngFor let-node [ngForOf]="nodes" let-i="index">
    <ng-container *ngIf="hasChildren(node); else nodeViewTmpl">
        <pcn-hierarchy-view [nodes]="node.children"></pcn-hierarchy-view>
    </ng-container>
    <ng-template #nodeViewTmpl>
      <ng-container *ngIf="hasItemTemplate; else baseItem;"
                    [ngTemplateOutlet]="nodeItemTemplate">
      </ng-container>
      <ng-template #baseItem>
         <p>{{node.title}}</p>
      </ng-template>
    </ng-template>
</ng-template>



